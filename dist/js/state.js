var state={current:{version:"10 beta 1",set:"seven",grades:[],dispMode:"day",isGpa:!1},get:function(e){return this.current[e]},set:function(e,t){if(this.current[e]=t,void 0!==typeof Storage){var s=this.current,a=JSON.stringify(s);localStorage.setItem("gwadata",a)}},getGrade:function(e){return this.current.grades[e]},setGrade:function(e,t){this.current.grades[e]=t,this.set("grades",this.current.grades)},switchLevel:function(e){this.resetGrades(e),this.set("set",e),subjects.default=subjects[e],app.populateSubjects(),app.setColors(e)},resetGrades:function(e){e=e||this.get("set"),console.log("Resetting grades for "+e);for(var t=[],s=0;s<subjects[e].length;s++)t.push(1);this.set("grades",t)},load:function(){if(void 0!==typeof Storage){var e=localStorage.getItem("gwadata");if(null!=e){console.log("Data exists, loading");var t=JSON.parse(e);null!=t.set&&1<t.grades.length?(console.log("Restoring state for "+t.set),$("#levels select").val(t.set),this.switchLevel(t.set),this.current.grades=t.grades,this.current.isGpa=t.isGpa,app.setTheme(t.dispMode)):(console.warn("Data is invalid, resetting"),this.switchLevel("seven")),app.populateSubjects()}else console.log("Data does not exist, initializing"),this.switchLevel("seven"),app.populateSubjects()}else $("tr.loader td").text("Please use a newer browser.")}};